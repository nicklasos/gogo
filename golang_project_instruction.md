
# ğŸ› ï¸ Golang Web API Project Skeleton (Echo + sqlc + Swagger + Modular Structure)

## ğŸ¯ Project Goal:
Generate a **starter Go web API project skeleton** that follows modern Go best practices with the following requirements:

---

## âœ… Project Tech Stack:
- **Go** (Latest stable version)
- **MySQL** (as the database)
- **Echo** (as the web framework)
- **sqlc** (for typed DB queries)
- **Swaggo/swag** (for Swagger / OpenAPI documentation)
- **Makefile** (for common dev tasks)

---

## âœ… Folder Structure:

```
myapp/
â”œâ”€â”€ cmd/api/main.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ queries.sql
â”‚   â”‚   â”œâ”€â”€ queries_gen.go
â”‚   â”‚   â”œâ”€â”€ handler.go
â”‚   â”‚   â””â”€â”€ repository.go
â”‚   â””â”€â”€ db/
â”‚       â””â”€â”€ db.go
â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ (empty for now)
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ (generated by swag later)
â”œâ”€â”€ sqlc.yaml
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ Makefile
```

---

## âœ… Features Needed:

### âœ… 1. **Basic Main Entry Point:**

- **Location:** `cmd/api/main.go`
- Echo server setup
- Routes setup for `/users`

---

### âœ… 2. **Users Module:**

Inside `/internal/users/`

- **SQLC Query Example:**  
Include at least:
  - Get user by ID
  - Create user
  - List users

```sql
-- name: GetUserByID :one
SELECT id, name, email FROM users WHERE id = ?;

-- name: CreateUser :execresult
INSERT INTO users (name, email) VALUES (?, ?);

-- name: ListUsers :many
SELECT id, name, email FROM users ORDER BY id;
```

- **sqlc-generated Go code** (`queries_gen.go`)
- **User handler** (`handler.go`) with at least:
  - GET `/users/:id`
  - POST `/users`
  - GET `/users`

- **Repository pattern** (`repository.go`) that calls sqlc-generated code.

---

### âœ… 3. **Database Connection Setup:**

Inside `/internal/db/db.go`  
Setup basic MySQL connection using `database/sql` with `sql.Open()`.

Use connection string from environment variables or hardcoded placeholder.

---

### âœ… 4. **Swagger Setup:**

- Annotate all handlers with Swaggo comments
- Generate placeholder Swagger docs under `/docs/`
- Setup `/swagger/*` route in Echo using swaggo's Echo middleware.

---

### âœ… 5. **Makefile with Common Commands:**

At minimum:

```makefile
run:
	go run ./cmd/api

build:
	go build -o bin/api ./cmd/api

sqlc:
	sqlc generate

swagger:
	swag init --parseDependency --parseInternal

test:
	go test ./...

fmt:
	go fmt ./...
```

---

### âœ… 6. **go.mod Setup:**

- Use module path like: `module myapp`
- Import Echo, Swaggo, go-sql-driver/mysql, and sqlc dependencies.

---

### âœ… 7. **Simple README.md (Optional, if LLM has time):**

Explain how to:

- Run the server
- Generate sqlc
- Generate Swagger
- Build the project

---

## âœ… Additional Notes:

- For now, skip Docker.
- No unit tests needed for first version.
- No Git setup required.

---

## âœ… Stretch Goal (Optional):

If thereâ€™s time/space, optionally generate a second module:  
Example: `/internal/cities/` with 1 sample GET endpoint (`/cities`).

---

## âœ… Important:  

âœ… Keep everything **simple and beginner-friendly**.  
âœ… Focus on **clean structure and working compilation**.  
âœ… Use idiomatic Go style.  
âœ… For sqlc-generated code: you can generate it or leave it empty with a placeholder comment like `// generated by sqlc`.

---

âœ… End of instruction.
